<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:f="http://java.sun.com/jsf/core"
                template="Templates/authenticated_home.xhtml">

    <ui:define name="title">
    
        <h:outputText value="Rechercher un ami"/>
    </ui:define>
    <br/>
    <br/>

    <ui:define name="content">

          <h:message for="mybutton" id="mymessage" style="color:red; font-weight: bold;"/>
          <br/>
        <h:form>
            
            <div class="form-inline">
            <h:outputLabel for="groupName" value="Numéro de telephone :"/>
            <h:inputText id="groupName" class="form-control" maxlength="10" value="#{searchFriendController.searchText}" />
            <h:commandButton class="btn btn-primary" value="Rechercher" action="#{searchFriendController.searchFriendByPhoneNumber()}" />
            </div>
            <br/>
           
          </h:form>
            <br/>
          <h:form>
           
            <h3>Liste des résultats trouvés</h3>
            <h:dataTable class="table table-bordered" rendered="#{not empty searchFriendController.listFriendsDataModel}" value="#{searchFriendController.listFriendsDataModel}" var="user">
                <h:column>
                    <f:facet name="header">
                        <h:outputText value="User Id"/>
                    </f:facet>
                    <h:outputText value="#{user.id}"/>
                </h:column>
                <h:column>
                    <f:facet name="header">
                        <h:outputText value="Surnom"/>
                    </f:facet>
                    <h:outputText value="#{user.userName}"/>
                </h:column>
                <h:column>
                    <f:facet name="header">
                        <h:outputText value="Nom de famille"/>
                    </f:facet>
                    <h:outputText value="#{user.lastName}"/>
                </h:column>
                 <h:column>
                    <f:facet name="header">
                        <h:outputText value="Prénom"/>
                    </f:facet>
                    <h:outputText value="#{user.firstName}"/>
                </h:column>
                 <h:column>
                    <f:facet name="header">
                        <h:outputText value="Email"/>
                    </f:facet>
                    <h:outputText value="#{user.email}"/>
                </h:column>
                 <h:column>
                    <f:facet name="header">
                        <h:outputText value="Numéro de téléphone"/>
                    </f:facet>
                    <h:outputText value="#{user.phoneNumber}"/>
                </h:column>
                <h:column>
                    <f:facet name="header">
                        <h:outputText value="Actions"/>
                    </f:facet>

                    <h:commandLink id="mybutton" binding="#{searchFriendController.mybutton}" value="Ajouter au groupe" action="#{searchFriendController.addFriendToGroup()}" />
                </h:column>
            </h:dataTable>
        </h:form>

    </ui:define>
</ui:composition>